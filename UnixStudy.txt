【基礎知識】

ma-miyagawa@DESKTOP-JF3LIDD:~$ date
Tue Mar 22 21:16:11 JST 2022
ma-miyagawa@DESKTOP-JF3LIDD:~$ date -u
Tue Mar 22 12:16:16 UTC 2022
ma-miyagawa@DESKTOP-JF3LIDD:~$ date > date.txt
ma-miyagawa@DESKTOP-JF3LIDD:~$ cat date.txt
Tue Mar 22 21:18:59 JST 2022
ma-miyagawa@DESKTOP-JF3LIDD:~$ wc
This is an apple
My name is mas
I live in Shiga.      2      12      48
ma-miyagawa@DESKTOP-JF3LIDD:~$ wc < date.txt
 1  6 29
ma-miyagawa@DESKTOP-JF3LIDD:~$ date | pwd
/home/ma-miyagawa
ma-miyagawa@DESKTOP-JF3LIDD:~$ pwd | wc
      1       1      18
ma-miyagawa@DESKTOP-JF3LIDD:~$ a=www
ma-miyagawa@DESKTOP-JF3LIDD:~$ echo $a
www
ma-miyagawa@DESKTOP-JF3LIDD:~$ echo $LANG
C.UTF-8
ma-miyagawa@DESKTOP-JF3LIDD:~$ export LANG=ja
ma-miyagawa@DESKTOP-JF3LIDD:~$ echo $LANG
ja
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls -l
total 4
-rw-r--r-- 1 ma-miyagawa ma-miyagawa 29 Mar 22 21:18 date.txt
ma-miyagawa@DESKTOP-JF3LIDD:~$ 


【コマンド操作】
<< cd >>
ma-miyagawa@DESKTOP-JF3LIDD:~$ cd ~
ma-miyagawa@DESKTOP-JF3LIDD:~$ cd ../..
ma-miyagawa@DESKTOP-JF3LIDD:/$ pwd
/
ma-miyagawa@DESKTOP-JF3LIDD:/$ cd ~
ma-miyagawa@DESKTOP-JF3LIDD:~$ pwd
/home/ma-miyagawa
ma-miyagawa@DESKTOP-JF3LIDD:~$ cd ../
ma-miyagawa@DESKTOP-JF3LIDD:/home$ cd /etc

<< man >>
ma-miyagawa@DESKTOP-JF3LIDD:/etc$ man pwd
ma-miyagawa@DESKTOP-JF3LIDD:/etc$ man -a ls
ma-miyagawa@DESKTOP-JF3LIDD:/etc$ man 1 ls

<< date >>
ma-miyagawa@DESKTOP-JF3LIDD:/etc$ date
Wed Mar 23 20:14:43 JST 2022
ma-miyagawa@DESKTOP-JF3LIDD:/etc$ date "+%Y/%m/%d %H:%M:%S"
2022/03/23 20:18:52

<< su  sudo >>
ma-miyagawa@DESKTOP-JF3LIDD:~$ sudo su -
[sudo] password for ma-miyagawa: 
Welcome to Ubuntu 20.04.4 LTS (GNU/Linux 5.10.16.3-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed Mar 23 20:33:31 JST 2022

  System load:  0.0                Processes:             23
  Usage of /:   0.6% of 250.98GB   Users logged in:       0
  Memory usage: 3%                 IPv4 address for eth0: 172.22.50.170
  Swap usage:   0%

1 update can be applied immediately.
To see these additional updates run: apt list --upgradable


The list of available updates is more than a week old.
To check for new updates run: sudo apt update


This message is shown once a day. To disable it please create the
/root/.hushlogin file.
root@DESKTOP-JF3LIDD:~# 

<< テキスト閲覧 >>
ma-miyagawa@DESKTOP-JF3LIDD:~$ cat pwdhelp.txt
PWD(1)                                                   User Commands                                                  PWD(1)

NAME
       pwd - print name of current/working directory

SYNOPSIS
       pwd [OPTION]...

DESCRIPTION
       Print the full filename of the current working directory.

       -L, --logical
              use PWD from environment, even if it contains symlinks

       -P, --physical
              avoid all symlinks

       --help display this help and exit

       --version
              output version information and exit

       If no option is specified, -P is assumed.

       NOTE: your shell may have its own version of pwd, which usually supersedes the version described here.  Please refer to
       your shell's documentation for details about the options it supports.

AUTHOR
       Written by Jim Meyering.

REPORTING BUGS
       GNU coreutils online help: <https://www.gnu.org/software/coreutils/>
       Report pwd translation bugs to <https://translationproject.org/team/>

COPYRIGHT
       Copyright (C) 2018 Free Software Foundation, Inc.  License GPLv3+: GNU GPL  version  3  or  later  <https://gnu.org/li-
       censes/gpl.html>.
       This  is  free  software: you are free to change and redistribute it.  There is NO WARRANTY, to the extent permitted by
       law.

SEE ALSO
       getcwd(3)

       Full documentation at: <https://www.gnu.org/software/coreutils/pwd>
       or available locally via: info '(coreutils) pwd invocation'

GNU coreutils 8.30                                      September 2019                                                  PWD(1)
ma-miyagawa@DESKTOP-JF3LIDD:~$ 

<< テキスト操作 >>
ma-miyagawa@DESKTOP-JF3LIDD:~$ 
ma-miyagawa@DESKTOP-JF3LIDD:~$ tr a b < date.txt
Tue Mbr 22 21:18:59 JST 2022
ma-miyagawa@DESKTOP-JF3LIDD:~$ cut -c 3 date.txt
e
ma-miyagawa@DESKTOP-JF3LIDD:~$ cat date.txt
Tue Mar 22 21:18:59 JST 2022
ma-miyagawa@DESKTOP-JF3LIDD:~$ cut -f 2 -d ' ' date.txt
Mar

<< ファイル操作 >>
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls
date.txt  lshelp.txt  pwdhelp.txt
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls /etc
NetworkManager                 dconf            inputrc          mdadm                    protocols      subgid-
PackageKit                     debconf.conf     iproute2         mime.types               pulse          subuid
X11                            debian_version   iscsi            mke2fs.conf              python3        subuid-
adduser.conf                   default          issue            modprobe.d               python3.8      sudoers
alternatives                   deluser.conf     issue.net        modules                  rc0.d          sudoers.d
apparmor                       depmod.d         kernel           modules-load.d           rc1.d          sysctl.conf
apparmor.d                     dhcp             kernel-img.conf  mtab                     rc2.d          sysctl.d
apport                         dpkg             landscape        multipath.conf           rc3.d          systemd
apt                            e2scrub.conf     ld.so.cache      nanorc                   rc4.d          terminfo
at.deny                        ec2_version      ld.so.conf       netplan                  rc5.d          timezone
bash.bashrc                    environment      ld.so.conf.d     network                  rc6.d          tmpfiles.d
bash_completion                ethertypes       ldap             networkd-dispatcher      rcS.d          ubuntu-advantage
bash_completion.d              fonts            legal            networks                 resolv.conf    ucf.conf
bindresvport.blacklist         fstab            libaudit.conf    newt                     rmt            udev
binfmt.d                       fuse.conf        libblockdev      nsswitch.conf            rpc            udisks2
byobu                          fwupd            locale.alias     opt                      rsyslog.conf   ufw
ca-certificates                gai.conf         locale.gen       os-release               rsyslog.d      update-manager
ca-certificates.conf           groff            localtime        overlayroot.conf         screenrc       update-motd.d
ca-certificates.conf.dpkg-old  group            logcheck         overlayroot.local.conf   security       update-notifier
calendar                       group-           login.defs       pam.conf                 selinux        vim
cloud                          gshadow          logrotate.conf   pam.d                    sensors.d      vmware-tools
console-setup                  gshadow-         logrotate.d      passwd                   sensors3.conf  vtrgb
cron.d                         gss              lsb-release      passwd-                  services       vulkan
cron.daily                     hdparm.conf      ltrace.conf      perl                     shadow         wgetrc
cron.hourly                    host.conf        lvm              pki                      shadow-        xattr.conf
cron.monthly                   hostname         machine-id       pm                       shells         xdg
cron.weekly                    hosts            magic            polkit-1                 skel           zsh_command_not_found
crontab                        hosts.allow      magic.mime       pollinate                sos
cryptsetup-initramfs           hosts.deny       mailcap          popularity-contest.conf  ssh
crypttab                       init.d           mailcap.order    profile                  ssl
dbus-1                         initramfs-tools  manpath.config   profile.d                subgid

ma-miyagawa@DESKTOP-JF3LIDD:~$ ls -R /usr/include
/usr/include:
X11  gawkapi.h  iproute2  libdmmp  mpath_cmd.h  mpath_persist.h  sudo_plugin.h  xfs

/usr/include/X11:

/usr/include/iproute2:
bpf_elf.h

/usr/include/libdmmp:
libdmmp.h

/usr/include/xfs:

ma-miyagawa@DESKTOP-JF3LIDD:~$ mkdir sub
ma-miyagawa@DESKTOP-JF3LIDD:~$ cp -i lshelp.txt sub/
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls sub
lshelp.txt
ma-miyagawa@DESKTOP-JF3LIDD:~$ 

ma-miyagawa@DESKTOP-JF3LIDD:~$ mv pwdhelp.txt sub
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls
date.txt  lshelp.txt  sub
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls sub
lshelp.txt  pwdhelp.txt

ma-miyagawa@DESKTOP-JF3LIDD:~$ rm -r sub
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls
date.txt  lshelp.txt

ma-miyagawa@DESKTOP-JF3LIDD:~$ ls -l
total 12
-rw-r--r-- 1 ma-miyagawa ma-miyagawa   29 Mar 22 21:18 date.txt
-rw-r--r-- 1 ma-miyagawa ma-miyagawa 7927 Mar 23 20:37 lshelp.txt
ma-miyagawa@DESKTOP-JF3LIDD:~$ touch date.txt
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls -l
total 12
-rw-r--r-- 1 ma-miyagawa ma-miyagawa   29 Mar 23 20:59 date.txt
-rw-r--r-- 1 ma-miyagawa ma-miyagawa 7927 Mar 23 20:37 lshelp.txt

ma-miyagawa@DESKTOP-JF3LIDD:~$ ln -s lshelp.txt symbollnk
ma-miyagawa@DESKTOP-JF3LIDD:~$ ls -l
total 12
-rw-r--r-- 1 ma-miyagawa ma-miyagawa   29 Mar 23 20:59 date.txt
-rw-r--r-- 1 ma-miyagawa ma-miyagawa 7927 Mar 23 20:37 lshelp.txt
lrwxrwxrwx 1 ma-miyagawa ma-miyagawa   10 Mar 23 21:05 symbollnk -> lshelp.txt

ma-miyagawa@DESKTOP-JF3LIDD:~$ grep Mar date.txt
Tue Mar 22 21:18:59 JST 2022
ma-miyagawa@DESKTOP-JF3LIDD:~$ find . -name '*te*'
./date.txt

【シェルスクリプト】
ma-miyagawa@DESKTOP-JF3LIDD:~$ ./testscript.sh
hello
Linux
INPUT_STR:aaaaa
aaaaa
ma-miyagawa@DESKTOP-JF3LIDD:~$ more testscript.sh
#!/bin/bash
echo hello
uname
#プロンプトをechoを使って表示
echo -n INPUT_STR:
#入力を受付、その入力を「str」に代入
read str
#結果を表示
echo $str


【プロセス管理】
ma-miyagawa@DESKTOP-JF3LIDD:~$ more process.c
#include <signal.h>
#include <stdio.h>
void f(){
        printf("aaa\n");
        fflush(stdout);
}
int main(){
        signal(SIGINT, f);
        while (1);
        return 0;
}
ma-miyagawa@DESKTOP-JF3LIDD:~$ ./process01 &
[1] 293
ma-miyagawa@DESKTOP-JF3LIDD:~$ ps
  PID TTY          TIME CMD
  143 pts/3    00:00:00 bash
  293 pts/3    00:00:02 process01
  321 pts/3    00:00:00 ps
ma-miyagawa@DESKTOP-JF3LIDD:~$ killall -INT ./process01
aaa
ma-miyagawa@DESKTOP-JF3LIDD:~$ ps
  PID TTY          TIME CMD
  143 pts/3    00:00:00 bash
  293 pts/3    00:00:56 process01
  434 pts/3    00:00:00 ps
ma-miyagawa@DESKTOP-JF3LIDD:~$ kill 293
ma-miyagawa@DESKTOP-JF3LIDD:~$ 
[1]+  Terminated              ./process01
ma-miyagawa@DESKTOP-JF3LIDD:~$ 
ma-miyagawa@DESKTOP-JF3LIDD:~$ ps
  PID TTY          TIME CMD
  143 pts/3    00:00:00 bash
  560 pts/3    00:00:00 ps
ma-miyagawa@DESKTOP-JF3LIDD:~$ 
ma-miyagawa@DESKTOP-JF3LIDD:~$ vi

[1]+  Stopped                 vi
ma-miyagawa@DESKTOP-JF3LIDD:~$ jobs -l
[1]+   661 Stopped                 vi
ma-miyagawa@DESKTOP-JF3LIDD:~$ 
ma-miyagawa@DESKTOP-JF3LIDD:~$ jobs %1
[1]+  Stopped                 vi
ma-miyagawa@DESKTOP-JF3LIDD:~$ top
top - 20:07:12 up 14 min,  0 users,  load average: 0.08, 0.07, 0.07
Tasks:  17 total,   1 running,  16 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni, 99.9 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem :   6260.5 total,   5961.7 free,    188.9 used,    109.9 buff/cache
MiB Swap:   2048.0 total,   2048.0 free,      0.0 used.   5894.0 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                                                      
   42 ma-miya+  20   0  891528  47888  29732 S   0.7   0.7   0:02.76 node                                                         
    1 root      20   0     896    528    464 S   0.0   0.0   0:00.03 init                                                         
   10 root      20   0     896     84     20 S   0.0   0.0   0:00.00 init                                                         
   11 root      20   0     896     84     20 S   0.0   0.0   0:00.00 init                                                         
   12 ma-miya+  20   0    2612    592    524 S   0.0   0.0   0:00.00 sh                                                           
   13 ma-miya+  20   0    2612    584    520 S   0.0   0.0   0:00.00 sh                                                           
   18 ma-miya+  20   0    2612    592    524 S   0.0   0.0   0:00.00 sh                                                           
   22 ma-miya+  20   0  924560  60724  31940 S   0.0   0.9   0:02.62 node                                                         
   33 root      20   0     904     84     20 S   0.0   0.0   0:00.00 init                                                         
   34 root      20   0     904     88     20 S   0.0   0.0   0:00.17 init                                                         
   35 ma-miya+  20   0  581168  35492  27116 S   0.0   0.6   0:00.60 node                                                         
   55 root      20   0     904     84     20 S   0.0   0.0   0:00.00 init                                                         
   56 root      20   0     904     88     20 S   0.0   0.0   0:00.08 init                                                         
   57 ma-miya+  20   0  579112  31244  25324 S   0.0   0.5   0:00.35 node                                                         
  130 ma-miya+  20   0  808216  67372  33984 S   0.0   1.1   0:01.42 node                                                         
  143 ma-miya+  20   0   10520   5480   3332 S   0.0   0.1   0:00.05 bash                                                         
 1150 ma-miya+  20   0   10876   3652   3136 R   0.0   0.1   0:00.00 top                                                          



【ファイルシステム】
root@DESKTOP-JF3LIDD:~# fdisk -l /dev/sda
Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk    
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
root@DESKTOP-JF3LIDD:~# df
Filesystem     1K-blocks     Used Available Use% Mounted on
/dev/sdb       263174212  1847456 247888600   1% /
tmpfs            3205372        0   3205372   0% /mnt/wsl
tools          960630780 97954932 862675848  11% /init
none             3203288        0   3203288   0% /dev
none             3205372       12   3205360   1% /run
none             3205372        0   3205372   0% /run/lock
none             3205372        0   3205372   0% /run/shm
none             3205372        0   3205372   0% /run/user
tmpfs            3205372        0   3205372   0% /sys/fs/cgroup
drivers        960630780 97954932 862675848  11% /usr/lib/wsl/drivers
lib            960630780 97954932 862675848  11% /usr/lib/wsl/lib
C:\            960630780 97954932 862675848  11% /mnt/c
root@DESKTOP-JF3LIDD:~# du
16      .
root@DESKTOP-JF3LIDD:~# fsck -A -N
fsck from util-linux 2.34
[/usr/sbin/fsck.ext4 (1) -- /] fsck.ext4 LABEL=cloudimg-rootfs 
   （/etc/fstabの設定に従うものの何も実行せず、何を実行するかだけを確認する）
root@DESKTOP-JF3LIDD:~# mount
/dev/sdb on / type ext4 (rw,relatime,discard,errors=remount-ro,data=ordered)
tmpfs on /mnt/wsl type tmpfs (rw,relatime)
tools on /init type 9p (ro,relatime,dirsync,aname=tools;fmask=022,loose,access=client,trans=fd,rfd=6,wfd=6)
none on /dev type devtmpfs (rw,nosuid,relatime,size=3203288k,nr_inodes=800822,mode=755)
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,noatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,noatime)
devpts on /dev/pts type devpts (rw,nosuid,noexec,noatime,gid=5,mode=620,ptmxmode=000)
none on /run type tmpfs (rw,nosuid,noexec,noatime,mode=755)
none on /run/lock type tmpfs (rw,nosuid,nodev,noexec,noatime)
none on /run/shm type tmpfs (rw,nosuid,nodev,noatime)
none on /run/user type tmpfs (rw,nosuid,nodev,noexec,noatime,mode=755)
binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,relatime)
tmpfs on /sys/fs/cgroup type tmpfs (rw,nosuid,nodev,noexec,relatime,mode=755)
drivers on /usr/lib/wsl/drivers type 9p (ro,nosuid,nodev,noatime,dirsync,aname=drivers;fmask=222;dmask=222,mmap,access=client,msize=65536,trans=fd,rfd=4,wfd=4)
lib on /usr/lib/wsl/lib type 9p (ro,nosuid,nodev,noatime,dirsync,aname=lib;fmask=222;dmask=222,mmap,access=client,msize=65536,trans=fd,rfd=4,wfd=4)
cgroup2 on /sys/fs/cgroup/unified type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate)
cgroup on /sys/fs/cgroup/cpuset type cgroup (rw,nosuid,nodev,noexec,relatime,cpuset)
cgroup on /sys/fs/cgroup/cpu type cgroup (rw,nosuid,nodev,noexec,relatime,cpu)
cgroup on /sys/fs/cgroup/cpuacct type cgroup (rw,nosuid,nodev,noexec,relatime,cpuacct)
cgroup on /sys/fs/cgroup/blkio type cgroup (rw,nosuid,nodev,noexec,relatime,blkio)
cgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,memory)
cgroup on /sys/fs/cgroup/devices type cgroup (rw,nosuid,nodev,noexec,relatime,devices)
cgroup on /sys/fs/cgroup/freezer type cgroup (rw,nosuid,nodev,noexec,relatime,freezer)
cgroup on /sys/fs/cgroup/net_cls type cgroup (rw,nosuid,nodev,noexec,relatime,net_cls)
cgroup on /sys/fs/cgroup/perf_event type cgroup (rw,nosuid,nodev,noexec,relatime,perf_event)
cgroup on /sys/fs/cgroup/net_prio type cgroup (rw,nosuid,nodev,noexec,relatime,net_prio)
cgroup on /sys/fs/cgroup/hugetlb type cgroup (rw,nosuid,nodev,noexec,relatime,hugetlb)
cgroup on /sys/fs/cgroup/pids type cgroup (rw,nosuid,nodev,noexec,relatime,pids)
cgroup on /sys/fs/cgroup/rdma type cgroup (rw,nosuid,nodev,noexec,relatime,rdma)
C:\ on /mnt/c type 9p (rw,noatime,dirsync,aname=drvfs;path=C:\;uid=1000;gid=1000;symlinkroot=/mnt/,mmap,access=client,msize=65536,trans=fd,rfd=8,wfd=8)
